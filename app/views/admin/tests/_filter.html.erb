<%= form_for :sidebar_filters, builder: ActiveAdmin::FormBuilder,
  :url => admin_tests_path, :method => :get  do |f| %>
  <% sidebar_params = params["sidebar_filters"] || nil %>
  <%= f.label "Test Id"%>
  <% if sidebar_params and sidebar_params[:id]%>
    <%= f.text_field :id, :value => sidebar_params[:id] %>
  <% else %>
    <%= f.text_field :id %>
  <% end %>
  <%= f.label "Status"%>
  <% if sidebar_params and sidebar_params[:status]%>
    <%= f.select :status, Test::STATUS.invert, :selected => sidebar_params[:status], include_blank: "Any" %>
  <% else %>
    <%= f.select :status, Test::STATUS.invert, include_blank: true %>
  <% end %>
  <% if sidebar_params and sidebar_params[:created_at]%>
    <%= f.inputs "created_at" do %>
      <%= f.label "From"%>
      <%= f.date_select :created_from %>
      <%= f.label "To"%>
      <%= f.date_field :created_to %>
    <% end %>
  <% else %>
    <%= f.inputs "created_at" do %>
      <%= f.label "From"%>
      <%= f.date_field :created_from %>
      <%= f.label "To"%>
      <%= f.date_field :created_to %>
    <% end %>
  <% end %>

  <% if sidebar_params and sidebar_params[:updated_at]%>
    <%= f.inputs "updated_at" do %>
      <%= f.label "From"%>
      <%= f.date_field :updated_from %>
      <%= f.label "To"%>
      <%= f.date_field :updated_to %>
    <% end %>
  <% else %>
    <%= f.inputs "updated_at" do %>
      <%= f.label "From"%>
      <%= f.date_field :updated_from %>
      <%= f.label "To"%>
      <%= f.date_field :updated_to %>
    <% end %>
  <% end %>
  <%= f.submit "Apply Filters", :class => "button-primary"%>
<% end %>
